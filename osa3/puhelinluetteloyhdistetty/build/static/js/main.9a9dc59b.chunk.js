(this.webpackJsonppuhelinluettelofront=this.webpackJsonppuhelinluettelofront||[]).push([[0],{14:function(e,n,t){e.exports=t(37)},19:function(e,n,t){},37:function(e,n,t){"use strict";t.r(n);var a,r,c=t(0),u=t.n(c),o=t(13),l=t.n(o),s=(t(19),t(2)),i=t(3),m=t.n(i),f="/api/persons",d=function(){return m.a.get(f)},p=function(e){return m.a.post(f,e)},b=function(e,n){return m.a.put(f+"/"+e,n)},h=function(e){return m.a.delete(f+"/"+e)},E=function(e){var n=e.newName,t=e.newNumber,c=e.persons,o=e.setPersons,l=e.setNewName,s=e.setNewNumber,i=function(){l(""),s(""),N(o)};return u.a.createElement("form",{onSubmit:function(e){e.preventDefault();var u={name:n,number:t},o=c.map((function(e){return e.name})).indexOf(n);-1===o&&""!==n?p(u).then((function(){i(),r=0,a("Added ".concat(n))})).catch((function(e){r=1,a(e.response.data.error)})):""===n?(r=1,a("Namefield is empty!")):c[o].number===t?(r=1,a("".concat(n," is already added to phonebook")),l(""),s("")):(r=0,window.confirm("".concat(n," numero p\xe4ivitet\xe4\xe4n -> ").concat(t))&&(b(c[o].id,u).then((function(){i()})),r=0,a("The number of ".concat(n," has been updated"))))}},u.a.createElement("div",null,"name: ",u.a.createElement("input",{value:n,onChange:function(e){l(e.target.value)}})),u.a.createElement("div",null,"number: ",u.a.createElement("input",{value:t,onChange:function(e){s(e.target.value)}})),u.a.createElement("div",null,u.a.createElement("button",{type:"submit"},"add")))},v=function(e){var n=e.person,t=e.setPersons;return u.a.createElement(u.a.Fragment,null,u.a.createElement("li",null,n.name," ",n.number,u.a.createElement("button",{onClick:function(){window.confirm("".concat(n.name," poistetaan"))&&h(n.id).then((function(){N(t),r=0,a("Entry removal successful")})).catch((function(){N(t),r=1,a("Information of ".concat(n.name," has already been removed from server"))}))}},"delete")))},g=function(e){var n=e.persons,t=e.searchString,a=e.setPersons;return u.a.createElement(u.a.Fragment,null,n.filter((function(e){return 0===e.name.toUpperCase().search(t.toUpperCase())})).map((function(e){return u.a.createElement(v,{key:e.id,person:e,setPersons:a})})))},w=function(e){return u.a.createElement("div",null,"filter shown with ",u.a.createElement("input",{value:e.searchString,onChange:function(n){e.setSearchString(n.target.value)}}))},N=function(e){d().then((function(n){e(n.data)}))},S=function(e){var n=e.message;if(null===n)return r=0,null;setTimeout((function(){a(null)}),3e3);var t="nonerror",c="\ud83d\udc4d";return r&&(t="error",c="Velhomeditaatio"),u.a.createElement("div",{className:"errorContainer"},u.a.createElement("div",{className:t},n,u.a.createElement("br",null),c))},O=function(){var e=Object(c.useState)([]),n=Object(s.a)(e,2),t=n[0],r=n[1],o=Object(c.useState)(""),l=Object(s.a)(o,2),i=l[0],m=l[1],f=Object(c.useState)(""),d=Object(s.a)(f,2),p=d[0],b=d[1],h=Object(c.useState)(""),v=Object(s.a)(h,2),O=v[0],j=v[1],y=Object(c.useState)(null),C=Object(s.a)(y,2),P=C[0],k=C[1];return Object(c.useEffect)((function(){N(r)}),[]),a=k,u.a.createElement("div",null,u.a.createElement(S,{message:P}),u.a.createElement("h2",null,"Phonebook"),u.a.createElement(w,{searchString:O,setSearchString:j}),u.a.createElement("h3",null,"Add new"),u.a.createElement(E,{newName:i,newNumber:p,persons:t,setPersons:r,setNewName:m,setNewNumber:b}),u.a.createElement("h3",null,"Numbers"),u.a.createElement(g,{persons:t,searchString:O,setPersons:r}))};l.a.render(u.a.createElement(O,null),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.9a9dc59b.chunk.js.map